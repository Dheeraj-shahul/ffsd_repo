<link rel="stylesheet" href="/css/payment-view.css">

<div class="payment-view">
  <h2>Worker Payment Details - <%= payment.id %></h2>

  <div class="payment-details">
    <div class="detail-group">
      <h3>Payment Information</h3>
      <p><strong>ID:</strong> <%= payment.id %></p>
      <p><strong>Amount:</strong> â‚¹<%= payment.amount?.toFixed(2) || 'N/A' %></p>
      <p><strong>Status:</strong> <%= payment.status %></p>
      <p><strong>Date:</strong> <%= payment.paymentDate ? new Date(payment.paymentDate).toLocaleString() : 'N/A' %></p>
      <p><strong>Method:</strong> <%= payment.paymentMethod || 'N/A' %></p>
      <p><strong>Transaction ID:</strong> <%= payment.transactionId || 'N/A' %></p>
      <p><strong>Receipt:</strong> 
        <% if (payment.receiptUrl) { %>
          <a href="<%= payment.receiptUrl %>" target="_blank">View Receipt</a>
        <% } else { %>
          N/A
        <% } %>
      </p>
    </div>

    <div class="detail-group">
      <h3>Tenant Information (Paid By)</h3>
      <% if (payment.paidBy) { %>
        <p><strong>Name:</strong> 
          <a href="/admin/user/<%= payment.paidBy._id %>/tenant">
            <%= payment.paidBy.firstName %> <%= payment.paidBy.lastName %>
          </a>
        </p>
        <p><strong>Email:</strong> <%= payment.paidBy.email %></p>
        <p><strong>Phone:</strong> <%= payment.paidBy.phone %></p>
      <% } else if (payment.userName) { %>
        <p><strong>Name:</strong> <%= payment.userName %></p>
      <% } else { %>
        <p>No tenant information available</p>
      <% } %>
    </div>

    <div class="detail-group">
      <h3>Worker Information (Received By)</h3>
      <% if (payment.receivedBy) { %>
        <p><strong>Name:</strong> 
          <a href="/admin/user/<%= payment.receivedBy._id %>/worker">
            <%= payment.receivedBy.firstName %> <%= payment.receivedBy.lastName %>
          </a>
        </p>
        <p><strong>Email:</strong> <%= payment.receivedBy.email %></p>
        <p><strong>Phone:</strong> <%= payment.receivedBy.phone %></p>
      <% } else { %>
        <p>No worker information available</p>
      <% } %>
    </div>

    <div class="detail-group">
      <h3>Actions</h3>
      <div class="action-buttons">
        <a href="/admin" class="btn">Back to List</a>
      </div>
    </div>
  </div>
</div>